<section id="products">
    <nav class="text-sm text-neutral-600 mb-6">
        <span>Home</span> <span class="mx-2">></span> <span class="text-primary">Products</span>
    </nav>
    <h1 class="text-4xl font-heading font-medium text-primary mb-8">Products</h1>
    <p class="text-base text-neutral-700 mb-8">
        Product catalog, reviews, and coupon endpoints. All product listing and detail endpoints are public,
        while review creation, helpful votes, and coupon validation require authentication.
    </p>
    
    <div class="mb-12">
        <div class="flex items-center gap-3 mb-4">
            <span class="endpoint-method method-get">GET</span>
            <code class="text-base font-mono">/api/v1/products/</code>
        </div>
        <p class="text-sm text-neutral-600 mb-4">Get all products. Public endpoint.</p>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Query Parameters</h4>
        <ul class="list-disc list-inside text-sm text-neutral-600 mb-4 space-y-1">
            <li><code>featured</code> - Filter featured products (true/false)</li>
            <li><code>category</code> - Filter by category name</li>
        </ul>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Example Request</h4>
        <div class="code-block p-4 mb-4">
            <pre>GET /api/v1/products/?featured=true&category=Electronics</pre>
        </div>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Response (200 OK)</h4>
        <div class="code-block p-4 mb-4">
            <pre>{
  "count": 10,
  "data": [
    {
      "id": 1,
      "name": "Product Name",
      "summary": "Product summary",
      "description": "Full product description",
      "category": "Electronics",
      "cover": "https://example.com/image.jpg",
      "original_price": 149.99,
      "price": 99.99,
      "featured": true,
      "in_stock": true,
      "images": [
        "https://example.com/image1.jpg",
        "https://example.com/image2.jpg"
      ],
      "sizes": ["S", "M", "L"],
      "colors": ["Black", "White"],
      "created_at": "2024-01-01T00:00:00Z"
    }
  ]
}</pre>
        </div>
    </div>

    <div class="mb-12">
        <div class="flex items-center gap-3 mb-4">
            <span class="endpoint-method method-get">GET</span>
            <code class="text-base font-mono">/api/v1/products/&lt;id&gt;/</code>
        </div>
        <p class="text-sm text-neutral-600 mb-4">
            Get product details with SKUs, rich product details, review summary, and recent reviews. Public endpoint.
        </p>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Response (200 OK)</h4>
        <div class="code-block p-4 mb-4">
            <pre>{
  "data": {
    "product": {
      "id": 1,
      "name": "Product Name",
      "summary": "Product summary",
      "description": "Full product description",
      "category": "Electronics",
      "cover": "https://example.com/image.jpg",
      "original_price": 149.99,
      "price": 99.99,
      "featured": true,
      "in_stock": true,
      "images": [
        "https://example.com/image1.jpg",
        "https://example.com/image2.jpg"
      ],
      "sizes": ["S", "M", "L"],
      "colors": ["Black", "White"],
      "created_at": "2024-01-01T00:00:00Z",
      "details": {
        "material": "100% Cotton",
        "care_instructions": "Machine wash cold, tumble dry low",
        "fit": "Regular Fit",
        "brand": "Brand Name"
      },
      "review_summary": {
        "average_rating": 4.5,
        "total_reviews": 12,
        "rating_breakdown": {
          "5": 8,
          "4": 3,
          "3": 1,
          "2": 0,
          "1": 0
        }
      }
    },
    "skus": [
      {
        "id": 1,
        "sku": "PROD-001-S-M-BLK",
        "size": "S",
        "color": "Black",
        "price": 99.99,
        "quantity": 50
      }
    ],
    "recent_reviews": [
      {
        "id": 10,
        "user_name": "j***n@example.com",
        "rating": 5,
        "title": "Great product!",
        "comment": "Perfectly matched with image. Great quality!",
        "is_verified_purchase": true,
        "helpful_count": 3,
        "created_at": "2024-01-05T00:00:00Z"
      }
    ]
  }
}</pre>
        </div>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Error Response (404 Not Found)</h4>
        <div class="code-block p-4">
            <pre>{
  "error": "Product not found",
  "detail": "No product found with id 999"
}</pre>
        </div>
    </div>

    <div class="mb-12">
        <div class="flex items-center gap-3 mb-4">
            <span class="endpoint-method method-get">GET</span>
            <code class="text-base font-mono">/api/v1/products/&lt;id&gt;/skus/</code>
        </div>
        <p class="text-sm text-neutral-600 mb-4">Get all SKUs for a product. Public endpoint.</p>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Response (200 OK)</h4>
        <div class="code-block p-4 mb-4">
            <pre>{
  "count": 6,
  "data": [
    {
      "id": 1,
      "sku": "PROD-001-S-M-BLK",
      "size": "S",
      "color": "Black",
      "price": 99.99,
      "quantity": 50
    },
    {
      "id": 2,
      "sku": "PROD-001-M-M-BLK",
      "size": "M",
      "color": "Black",
      "price": 99.99,
      "quantity": 30
    }
  ]
}</pre>
        </div>
    </div>

    <div class="mb-12">
        <div class="flex items-center gap-3 mb-4">
            <span class="endpoint-method method-get">GET</span>
            <code class="text-base font-mono">/api/v1/products/search/</code>
        </div>
        <p class="text-sm text-neutral-600 mb-4">Search products by query string. Public endpoint.</p>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Query Parameters</h4>
        <ul class="list-disc list-inside text-sm text-neutral-600 mb-4 space-y-1">
            <li><code>q</code> - Search query string (required)</li>
        </ul>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Example Request</h4>
        <div class="code-block p-4 mb-4">
            <pre>GET /api/v1/products/search/?q=laptop</pre>
        </div>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Response (200 OK)</h4>
        <div class="code-block p-4 mb-4">
            <pre>{
  "query": "laptop",
  "count": 5,
  "data": [
    {
      "id": 1,
      "name": "Gaming Laptop",
      "price": 1299.99,
      ...
    }
  ]
}</pre>
        </div>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Response (200 OK - No Query)</h4>
        <div class="code-block p-4">
            <pre>{
  "count": 0,
  "data": [],
  "message": "Search query is required"
}</pre>
        </div>
    </div>

    <div class="mb-12">
        <div class="flex items-center gap-3 mb-4">
            <span class="endpoint-method method-get">GET</span>
            <code class="text-base font-mono">/api/v1/products/categories/</code>
        </div>
        <p class="text-sm text-neutral-600 mb-4">Get all product categories. Public endpoint.</p>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Response (200 OK)</h4>
        <div class="code-block p-4 mb-4">
            <pre>{
  "count": 5,
  "data": [
    {
      "id": 1,
      "name": "Electronics",
      "description": "Electronic products",
      "product_count": 25
    },
    {
      "id": 2,
      "name": "Clothing",
      "description": "Clothing and apparel",
      "product_count": 40
    }
  ]
}</pre>
        </div>
    </div>

    <h2 class="text-2xl font-heading font-medium text-primary mb-6 mt-12">Product Reviews</h2>

    <div class="mb-12">
        <div class="flex items-center gap-3 mb-4">
            <span class="endpoint-method method-get">GET</span>
            <code class="text-base font-mono">/api/v1/products/&lt;product_id&gt;/reviews/</code>
        </div>
        <p class="text-sm text-neutral-600 mb-4">
            List all reviews for a product. Public endpoint.
        </p>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Response (200 OK)</h4>
        <div class="code-block p-4 mb-4">
            <pre>{
  "count": 2,
  "data": [
    {
      "id": 10,
      "user_name": "j***n@example.com",
      "rating": 5,
      "title": "Great product!",
      "comment": "Perfectly matched with image. Great quality!",
      "is_verified_purchase": true,
      "helpful_count": 3,
      "created_at": "2024-01-05T00:00:00Z"
    },
    {
      "id": 11,
      "user_name": "a***e@example.com",
      "rating": 4,
      "title": "Good but size runs small",
      "comment": "Quality is nice but order one size up.",
      "is_verified_purchase": true,
      "helpful_count": 1,
      "created_at": "2024-01-04T00:00:00Z"
    }
  ]
}</pre>
        </div>
    </div>

    <div class="mb-12">
        <div class="flex items-center gap-3 mb-4">
            <span class="endpoint-method method-post">POST</span>
            <code class="text-base font-mono">/api/v1/products/&lt;product_id&gt;/reviews/create/</code>
        </div>
        <p class="text-sm text-neutral-600 mb-4">
            Create a new review for a product. Requires authentication and (optionally) verifies that the user has purchased the product.
        </p>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Headers</h4>
        <div class="code-block p-4 mb-4">
            <pre>Authorization: Bearer &lt;access_token&gt;</pre>
        </div>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Request Body</h4>
        <div class="code-block p-4 mb-4">
            <pre>{
  "rating": 5,
  "title": "Great product!",
  "comment": "Perfectly matched with image. Great quality!"
}</pre>
        </div>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Response (201 Created)</h4>
        <div class="code-block p-4 mb-4">
            <pre>{
  "data": {
    "id": 10,
    "rating": 5,
    "title": "Great product!",
    "comment": "Perfectly matched with image. Great quality!",
    "is_verified_purchase": true,
    "helpful_count": 0,
    "created_at": "2024-01-05T00:00:00Z"
  },
  "message": "Review created successfully"
}</pre>
        </div>
    </div>

    <div class="mb-12">
        <div class="flex items-center gap-3 mb-4">
            <span class="endpoint-method method-post">POST</span>
            <code class="text-base font-mono">/api/v1/products/reviews/&lt;review_id&gt;/helpful/</code>
        </div>
        <p class="text-sm text-neutral-600 mb-4">
            Mark a review as helpful. Requires authentication.
        </p>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Headers</h4>
        <div class="code-block p-4 mb-4">
            <pre>Authorization: Bearer &lt;access_token&gt;</pre>
        </div>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Response (200 OK)</h4>
        <div class="code-block p-4 mb-4">
            <pre>{
  "data": {
    "id": 10,
    "rating": 5,
    "title": "Great product!",
    "comment": "Perfectly matched with image. Great quality!",
    "is_verified_purchase": true,
    "helpful_count": 4
  },
  "message": "Marked as helpful"
}</pre>
        </div>
    </div>

    <h2 class="text-2xl font-heading font-medium text-primary mb-6 mt-12">Coupons</h2>

    <div class="mb-12">
        <div class="flex items-center gap-3 mb-4">
            <span class="endpoint-method method-get">GET</span>
            <code class="text-base font-mono">/api/v1/products/coupons/</code>
        </div>
        <p class="text-sm text-neutral-600 mb-4">
            List all active and currently valid coupons. Public endpoint.
        </p>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Response (200 OK)</h4>
        <div class="code-block p-4 mb-4">
            <pre>{
  "count": 1,
  "data": [
    {
      "id": 1,
      "code": "NFLAT10",
      "description": "10% off on all products",
      "discount_type": "percentage",
      "discount_value": "10.00",
      "min_purchase_amount": "500.00",
      "max_discount_amount": "200.00",
      "is_active": true,
      "valid_from": "2024-01-01T00:00:00Z",
      "valid_until": "2024-01-31T23:59:59Z",
      "usage_limit": 100,
      "used_count": 10,
      "is_valid": true
    }
  ]
}</pre>
        </div>
    </div>

    <div class="mb-12">
        <div class="flex items-center gap-3 mb-4">
            <span class="endpoint-method method-post">POST</span>
            <code class="text-base font-mono">/api/v1/products/coupons/validate/</code>
        </div>
        <p class="text-sm text-neutral-600 mb-4">
            Validate a coupon code for a given cart/order amount and compute the discount. Requires authentication.
        </p>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Headers</h4>
        <div class="code-block p-4 mb-4">
            <pre>Authorization: Bearer &lt;access_token&gt;</pre>
        </div>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Request Body</h4>
        <div class="code-block p-4 mb-4">
            <pre>{
  "code": "NFLAT10",
  "amount": 1000.00
}</pre>
        </div>
        <h4 class="text-sm font-medium text-primary uppercase tracking-wider mb-2">Response (200 OK)</h4>
        <div class="code-block p-4">
            <pre>{
  "data": {
    "coupon": {
      "id": 1,
      "code": "NFLAT10",
      "discount_type": "percentage",
      "discount_value": "10.00",
      "min_purchase_amount": "500.00",
      "max_discount_amount": "200.00",
      "is_active": true
    },
    "discount_amount": 100.00,
    "message": "Coupon applied successfully"
  }
}</pre>
        </div>
    </div>
</section>

